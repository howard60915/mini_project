<h1><span style="font-size: 50px"><%= @topic.title%></span></h1>

<span style="font-size: 35px">content</span>
<% if @like.present? %>
	<%= link_to "unlike", unlike_topic_path(:topic_id => params[:id]) , :class => "btn btn-danger", :method => :post, :style => "font-size: 8px" %>
<% else %>
	<%= link_to "like", like_topic_path(:topic_id => params[:id]) , :class => "btn btn-primary", :method => :post, :style => "font-size: 8px" %>
<% end %>
<br \>
<table class="table table-striped table-hover">
	<thead><span style="font-size: 20px"><%= @topic.content %></span></thead>
		<tr>
			<td><span style="font-size: 20px">Comment :</span></td>
			<td ><span style="text-align: left">Poster</span></td>
			<td></td>
			<td></td>
			
		</tr>

		<% @topic.comments.each do |c| %>
		<tr>
			<td><%= c.content %></td>
			<td><%= link_to "Edit" , topic_path(:id => @topic.id , :comment_id => c.id), :class => "btn btn-primary" %></td>
			<td><%= link_to "Delete" , topic_comment_path(@topic,c.id), :method => "delete", :class => "btn btn-danger" %></td>
			<td><%= c.user.short_name %></td>
		</tr>
		<% end %>
		
</table>
<%#if @topic.comments.errors.any?%>
	<%# @topic.comments.errors.full_messages.each do |msg|%>
	<%#= msg%>
	<%# end %>
<%# end %>



<%= form_for [@topic, @comment] do |f|%> <!-- rails 會自動幫我們判別是經由create還是update -->
	<%= f.label :content ,"Comment"%>
	<%= f.text_area :content ,:class => "form-control"%>	

	<%= f.submit "confirm" , :class => "btn btn-success"%>

<% end %>

<br \>
<%= link_to "Back to Index" , topics_path , :class => "btn btn-primary"%>